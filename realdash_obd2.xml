<?xml version="1.0" encoding="utf-8"?>
<!--
RealDash OBD2 communication description file.
Requires RealDash version 1.2.0 or newer
-->
<OBD2>
  <init>
    <!-- after first init command is sent, RealDash reads whatever data comes from serial during next 3500ms. This is done to purge the serial buffers. -->
    <!-- do not remove 'atl0', 'ate0', or 'ats0' commands. Those settings are assumed when parsing the reply from adapter. -->
    <command send="atd"></command>
    <command send="atz"></command>
    <command send="atsp0"></command>
    <command send="ate0"></command>
    <command send="atl0"></command>
    <command send="ats0"></command>
    <command send="ath0"></command>
    <command send="atdpn"></command>
    <command send="0100"></command>
    <command send="0120"></command>
  </init>

  <!-- 'send' command to send to ELM327 adapter -->
  <!-- 'replyLength' number of bytes in reply -->
  <!-- 'skipCount' number of skips in rotation for that value. Higher the value less frequently its read -->
  <!-- 'targetId' links value to RealDash input, see 'realdash_target_identifiers.txt for a complete list -->
  <!-- OR -->
  <!-- 'name' links value to RealDash input, if name is unknown to RealDash, input appears in 'ECU Specific' input category -->
  <!-- 'units' optional info only for automatic unit conversion system. "C","F","km/h","mph","bar","psi","bit" -->
  <!-- 'conversion' if omitted, value is read 'as-is'. Otherwise variables 'B0', 'B1', 'B2', 'B3' and 'V' can be used within conversion formula, for example;
       conversion="V/10" - result is incoming value / 10
       conversion="B0+15*(B1-43)" - result is 'first byte + 15 * (second byte - 43) -->
  <!-- if units="bit", RealDash always checks the lowest bit as of value on or off. Therefore the bitshift to the right on conversion, for example conversion="(V>>1)"
       will read second bit on incoming value -->

  <rotation>
    <command send="0104" replyLength="1" skipCount="6" targetId="100" conversion="V/2.55"></command>
    <command send="0c" replyLength="2" skipCount="0" targetId="37" conversion="V/1000.0/4"></command>
    <command send="010b" replyLength="1" skipCount="0" targetId="31"></command>
    <command send="0d" replyLength="1" skipCount="0" targetId="81" units="km/h"></command>
    <command send="010e" replyLength="1" skipCount="4" targetId="38" conversion="V/2-64"></command>
    <command send="0110" replyLength="2" skipCount="1" targetId="30" conversion="V/100"></command>

    <command send="0114" replyLength="2" skipCount="3" targetId="0" conversion="B0/200"></command>
    <command send="0115" replyLength="2" skipCount="3" targetId="0" conversion="B0/200"></command>
    <command send="0116" replyLength="2" skipCount="3" targetId="0" conversion="B0/200"></command>
    <command send="0117" replyLength="2" skipCount="3" targetId="0" conversion="B0/200"></command>
    <command send="0118" replyLength="2" skipCount="3" targetId="1" conversion="B0/200"></command>
    <command send="0119" replyLength="2" skipCount="3" targetId="1" conversion="B0/200"></command>
    <command send="011a" replyLength="2" skipCount="3" targetId="1" conversion="B0/200"></command>
    <command send="011b" replyLength="2" skipCount="3" targetId="1" conversion="B0/200"></command>

    <command send="24" replyLength="4" skipCount="3" targetId="0" conversion="(B0*256+B1)/32768*14.7"></command>
    <command send="0125" replyLength="4" skipCount="3" targetId="0" conversion="(B0*256+B1)/32768*14.7"></command>
    <command send="0126" replyLength="4" skipCount="3" targetId="0" conversion="(B0*256+B1)/32768*14.7"></command>
    <command send="0127" replyLength="4" skipCount="3" targetId="0" conversion="(B0*256+B1)/32768*14.7"></command>
    <command send="0128" replyLength="4" skipCount="3" targetId="1" conversion="(B0*256+B1)/32768*14.7"></command>
    <command send="0129" replyLength="4" skipCount="3" targetId="1" conversion="(B0*256+B1)/32768*14.7"></command>
    <command send="012a" replyLength="4" skipCount="3" targetId="1" conversion="(B0*256+B1)/32768*14.7"></command>
    <command send="012b" replyLength="4" skipCount="3" targetId="1" conversion="(B0*256+B1)/32768*14.7"></command>

    <command send="0134" replyLength="4" skipCount="3" targetId="0" conversion="(B0*256+B1)/32768*14.7"></command>
    <command send="0135" replyLength="4" skipCount="3" targetId="0" conversion="(B0*256+B1)/32768*14.7"></command>
    <command send="0136" replyLength="4" skipCount="3" targetId="0" conversion="(B0*256+B1)/32768*14.7"></command>
    <command send="0137" replyLength="4" skipCount="3" targetId="0" conversion="(B0*256+B1)/32768*14.7"></command>
    <command send="0138" replyLength="4" skipCount="3" targetId="1" conversion="(B0*256+B1)/32768*14.7"></command>
    <command send="0139" replyLength="4" skipCount="3" targetId="1" conversion="(B0*256+B1)/32768*14.7"></command>
    <command send="013a" replyLength="4" skipCount="3" targetId="1" conversion="(B0*256+B1)/32768*14.7"></command>
    <command send="013b" replyLength="4" skipCount="3" targetId="1" conversion="(B0*256+B1)/32768*14.7"></command>

    <command send="0101" replyLength="4" skipCount="35" targetId="65"></command>
    <command send="0111" replyLength="1" skipCount="2" targetId="42" conversion="V/2.55"></command>
    <command send="010a" replyLength="1" skipCount="6" targetId="105" conversion="V*3"></command>
    <command send="0105" replyLength="1" skipCount="57" targetId="14" units="C" conversion="V-40"></command>
    <command send="010f" replyLength="1" skipCount="15" targetId="27" units="C" conversion="V-40"></command>
    <command send="0133" replyLength="1" skipCount="60" targetId="11"></command>
    <command send="0146" replyLength="1" skipCount="100" targetId="300" units="C" conversion="V-40"></command>

    <command send="atrv" replyLength="1" skipCount="5" targetId="12"></command>
    <command send="012f" replyLength="1" skipCount="25" targetId="201" conversion="V/2.55"></command>
    <command send="0106" replyLength="1" skipCount="10" targetId="101" conversion="V/1.28-100"></command>
    <command send="0107" replyLength="1" skipCount="50" targetId="102" conversion="V/1.28-100"></command>
    <command send="0108" replyLength="1" skipCount="10" targetId="103" conversion="V/1.28-100"></command>
    <command send="0109" replyLength="1" skipCount="50" targetId="104" conversion="V/1.28-100"></command>
    <command send="011f" replyLength="2" skipCount="11" targetId="33"></command>
    <command send="015c" replyLength="1" skipCount="32" targetId="152" units="C" conversion="V-40"></command>
  </rotation>
</OBD2>

